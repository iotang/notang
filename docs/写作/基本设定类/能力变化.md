# 能力变化

宝可梦在对战中，攻击、防御、特攻、特防和速度五项能力，以及命中率、回避率都有各自的能力变化。

## 修正

这七项属性的能力变化等级取值都是 [-200, 200]。

假设能力修正前的值为 $A$，修正后为 $xA$，其中 $x$ 是修正系数。

修正系数 $x$ 和能力变化等级 $a$ 的关系如下：

$$
x = \left\{
\begin{aligned}
\frac{100 + a}{100} & & {a \geq 0} \\
\frac{100}{100 - a} & & {a < 0}
\end{aligned}
\right.
$$

命中判定时使用的是攻击方命中率等级和被攻击方回避率等级的差作为能力变化等级。比如命中方有 -30 的命中率等级，被攻击方有 +25 的回避率等级，即用于计算的能力变化等级为 -55，命中修正将等于 $\frac{100}{155}$。

## 改变能力变化等级

在某个宝可梦的回合结束时，其所有能力变化等级将会往等级 0 变化 5 个等级。

- A 在对战，现在是他的回合，他有 +20 的攻击和 -3 的防御。
- 他使用了剑舞，攻击等级上升 70，达到 +90。
- 他的回合结束，攻击等级变为 +85，防御等级变为 0。
- 他的回合开始，有 +85 的攻击。
